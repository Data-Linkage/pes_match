
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Welcome to PES MATCH’s documentation! &#8212; PES MATCH  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pes_match" href="modules.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="welcome-to-pes-match-s-documentation">
<h1>Welcome to PES MATCH’s documentation!<a class="headerlink" href="#welcome-to-pes-match-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">pes_match</a><ul>
<li class="toctree-l2"><a class="reference internal" href="setup.html">setup module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.html">src package</a></li>
<li class="toctree-l2"><a class="reference internal" href="tests.html">tests package</a></li>
<li class="toctree-l2"><a class="reference internal" href="CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="CODE_OF_CONDUCT.html">Code of conduct for <code class="docutils literal notranslate"><span class="pre">pes_match</span></code></a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="pes-match">
<h1>PES MATCH<a class="headerlink" href="#pes-match" title="Permalink to this headline">¶</a></h1>
<p>Python package and example pipeline for matching census and post-enumeration survey (PES) data.
For simplicity, only deterministic and clerical matching methods are provided.</p>
<p>For additional information consider reading:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.ons.gov.uk/methodology/methodologicalpublications/generalmethodology/onsworkingpaperseries/developingstandardtoolsfordatalinkagefebruary2021">ONS data linkage working paper</a></p></li>
<li><p><a class="reference external" href="https://www.ons.gov.uk/peoplepopulationandcommunity/populationandmigration/populationestimates/methodologies/linkagemethodsforcensus2021inenglandandwales">Census 2021 to Census Coverage Survey matching methods, England &amp; Wales</a></p></li>
</ul>
<section id="setup-instructions">
<h2>Setup instructions<a class="headerlink" href="#setup-instructions" title="Permalink to this headline">¶</a></h2>
<p>Once Python is installed, download this repository and execute the command <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">.</span></code> or <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code> to install/update the package and its dependencies.</p>
</section>
<section id="using-this-code">
<h2>Using this code<a class="headerlink" href="#using-this-code" title="Permalink to this headline">¶</a></h2>
<p>The aim of this repository is to provide a set of functions for cleaning and then matching census and PES data. The package gives matchers the tools to automatically match records
at the chosen level of geography and then resolve conflicts/difficult cases using the Clerical Resolution Online Widget (CROW). Associative matching can also be implemented to
assist in finding all possible matches between census and PES households. Once all methods have been applied at a single level of geography, matches can be combined and
residuals collected for the next stage of matching.</p>
<p>An example of a typical matching pipeline is provided in the <code class="docutils literal notranslate"><span class="pre">pipeline/</span></code> repository, however users may wish to apply matching methods in their own chosen order.
Files can be executed in the command line using <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">file_name.py</span></code> or within an IDE using the inbuilt run function.</p>
</section>
<section id="pipeline-running-order">
<h2>Pipeline running order<a class="headerlink" href="#pipeline-running-order" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Step 1: Run scripts in <code class="docutils literal notranslate"><span class="pre">pipeline/processing/</span></code> to clean raw files</p></li>
<li><p>Step 2: Update matchkeys in <code class="docutils literal notranslate"><span class="pre">pipeline/X_Stage_X/</span></code> before running the scripts in order. 2 stages are included but more can be created if needed</p></li>
<li><p>Step 3 (Optional): Run clerical search (<code class="docutils literal notranslate"><span class="pre">pipeline/Clerical_Search/</span></code>) to find the remaining matches within chosen level of geography e.g., enumeration area (EA)</p></li>
</ul>
</section>
<section id="when-is-crow-required">
<h2>When is CROW required?<a class="headerlink" href="#when-is-crow-required" title="Permalink to this headline">¶</a></h2>
<p>CROW is required for clerical matching (to manually resolve non-unique matches) after running the following scripts:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pipeline/1_Stage_1/01_stage_1_person.py</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pipeline/2_Stage_2/01_stage_2_person.py</span></code></p></li>
</ul>
</section>
<section id="directories-and-files-of-note">
<h2>Directories and files of note<a class="headerlink" href="#directories-and-files-of-note" title="Permalink to this headline">¶</a></h2>
<p>Descriptions of project directories and other significant files:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src/pes_match/</span></code> - the core package in the project.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">src/pes_match/cleaning.py</span></code> - functions to clean and prepare census / PES data for matching</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src/pes_match/cluster.py</span></code> - function to cluster together non-unique matches between census / PES data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src/pes_match/crow.py</span></code> - functions to prepare datasets for CROW and read in outputs from CROW</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src/pes_match/matching.py</span></code> - functions to match census and PES data together</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src/pes_match/parameters.py</span></code> - parameters that can be updated before or during matching</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">pipeline/</span></code> - example pipeline that can be used as a starting point for matching census and PES data. Matchkeys can be updated within the scripts</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CROW/</span></code> -  contains the code and config files for the <a class="reference external" href="https://github.com/Data-Linkage/Clerical_Resolution_Online_Widget">Clerical Resolution Online Widget</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Data/</span></code> - contains mock data and stores cleaned data, clerical inputs/outputs, checkpoint files and final outputs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tests/</span></code> - tests for the code under <code class="docutils literal notranslate"><span class="pre">src/pes_match/</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">docs/</span></code> - <a class="reference external" href="https://data-linkage.github.io/pes_match/">package documentation</a> that is built and hosted as HTML by GitHub Actions based on the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch code. See <a class="reference external" href="https://www.sphinx-doc.org/en/master/">documentation for sphinx for updating or building docs manually</a></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">docs/CONTRIBUTING.md</span></code> - general guidance for contributing to the project</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">docs/CODE_OF_CONDUCT.md</span></code> - code of conduct</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">.github/workflows</span></code> - configs for GitHub Actions</p></li>
</ul>
</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">PES MATCH</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">pes_match</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="modules.html" title="next chapter">pes_match</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Charlie Tomlin.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>